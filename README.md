# 毕业设计 Vision_Stand

## 页面编辑
### APP界面设置
+ pageControl 
  + 图片显示当前摄像头的位置
+ pageRememberEx
  + 不同物品位置记忆
+ pageRollEx
  + 底部转盘旋转
  + 可设置速度
+ pageOther
  + 亮度设置
  + something I wanna to say to this university

#### 关于保存设置 本来打算 使用keyboard组件 但是控件面积太小了 不适用 所以使用BTN按键直接保存 SITE1~4


## 步进电机的控制

+ PA11(zStep)_PA12(zDir)
+ PA8(xStep)_PB15(xDdir)
+ ==摇杆的控制中是根据屏幕的大小进行控制==


### 步进电机菜单页面设置
+ CAL： 编码器校准  
  + 第一次使用闭环校准
+ MotType： 电机类型选择  
  + 0.9/1.8
+ Mode： 控制模式选择  
  + CR_OPEN： 开环控制模式， 不需要编码器就能运行。
  + CR_LOOP： 矢量闭环控制模式， 有编码器反馈防丢步；
  + CR_UART： 串口直接控制模式， TTL 串口发命令进行位置/正反转的控制。  
+ Ma： 设置电流档位  
  + 开环模式设置电流限幅/闭环模式自动设置
+ MStep： 设置细分步数（ 默认 16 细分）
  + 支持 1～256 任意细分， 其中常规细分 1、 2、 4、 8、 16、 32、 64、 128、
    256 可以在屏幕上进行设置其他细分如 67 细分需要用串口发命令进行设
    置， 请参考‘ 串口通讯’ 一节进行操作。  
  + 256（ check）
+ En： 设置 En 引脚的有效电平    
  + H ： 高电平有效， 外部输入高电平（ 3.3V 以上） 可以使能闭环驱动板。 （ check）
  + L ： 低电平有效， 外部输入低电平（ 0V） 可以使能闭环驱动板。
  + Hold： 一直保持有效， 此时 En 引脚不受外部控制。
  + 注： 如果没有使能驱动板， 电机会像没通电一样， 用手轻轻就可以
    拧动电机轴， 你发脉冲它也不会转  
+ Dir： 设置电机转动的正方向  
  + CW ： 顺时针旋转为正方向
  + CCW： 逆时针旋转为正方向  
+ AutoSDD： 设置自动熄屏功能  
  + Disable： 关闭
  + Enable ： 使能（ check）
  + 注： 使能该选项后， 在 7 秒内无任何按键操作就会自动熄灭 OLED 显
    示屏， 按任意按键就可以重新点亮屏幕。  
+ Protect： 设置堵转保护功能  
  + Disable： 关闭
  + Enable ： 使能（ check）
  + 注： 使能该选项后， 驱动板如果检测到电机发生堵转就会触发堵转
    保护， 自动关闭驱动器， 并在屏幕上显示“ Wrong Protect Enter..” 。  
+ MPlyer： 设置内部 256 细分插补功能  
  + Disable： 关闭
  + Enable ： 使能（ check）
  + 注： 使能该选项后， 能够有效的减少电机低速运动时的震动和噪音，
    相当于把你当前的细分内部插补到最高 256 细分去跑。  
+ UartBaud： 设置串口通讯波特率  
+ UartAddr： 设置串口通讯地址  
+ O_Mode： 设置单圈上电自动回零模式  
  + Disable ： 关闭单圈上电自动回零功能
  + DirMode ： 方向模式（ 回零方向在 O_Dir 菜单上设置）
  + NearMode： 就近模式（ 往最靠近零点的方向回零）  
+ Set O： 设置单圈上电自动回零的原点（ 需要先设置 O_Mode 的模式） 
  + 放到点位，按下即可
+ O_Speed： 设置单圈上电自动回零速度档位  
  + 0~4 由快到慢 
  + 0（ check）
+ O_Dir： 设置单圈上电自动回零的回零方向  
  + CW
  + CCW  
+ ACC： 设置闭环驱动板内部的加速度值  
  + Disable
    286
    412
    538（check）
    664
    790
    916
    1042
  + 注： 该选项是预留和扩展， 保持默认值‘ Disable’ 。  
+ Exit： 退出参数设置菜单  

